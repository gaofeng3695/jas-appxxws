<!DOCTYPE html>
<html class="um landscape min-width-240px min-width-320px min-width-480px min-width-768px min-width-1024px">
    <head>
        <title></title>
        <meta charset="utf-8">
        <meta name="viewport" content="target-densitydpi=device-dpi, width=device-width, initial-scale=1, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
        <link rel="stylesheet" href="../css/ui-box.css">
        <link rel="stylesheet" href="../css/ui-base.css">
        <link rel="stylesheet" href="../css/ui-color.css">
        <link rel="stylesheet" href="../css/appcan.control.css">
        <link rel="stylesheet" type="text/css" href="../page_resource/index/css/main.css">
    </head>
    <body class="um-vp " ontouchstart>
        <div id="page_0" class="up ub ub-ver bc-bg" tabindex="0">
            <!--header开始-->
            <div id="slider" class="slider"></div>
            <!--header结束-->
            <!-- 模块开始 -->
            <div id="module" class="ub ub-ver">
            	<!-- 第一排 -->
            	<div class="ub-f1 ub ub-pj"> 
            		<div class="ub ub-ver ub-ac ub-f1 unit" >
            			<img src="../page_resource/index/images/m1.png" class="ub" alt="" >
            			<div class="ub tips">日常巡检</div>
            		</div>
            		<div class="ub ub-ver ub-ac ub-f1 unit">
            			<img src="../page_resource/index/images/m2.png" class="ub" alt="">
            			<div class="ub tips">事件管理</div>
            		</div>
            		<div class="ub ub-ver ub-ac ub-f1 unit">
            			<img src="../page_resource/index/images/m3.png" class="ub" alt="">
            			<div class="ub tips">巡检监控</div>
            		</div>
             	</div>
            	<!-- 第二排 -->
            	<div class="ub-f1 ub ub-pj"> 
            		<div class="ub ub-ver ub-ac ub-f1 unit">
            			<img src="../page_resource/index/images/m4.png" class="ub" alt="">
            			<div class="ub tips">统计分析</div>
            		</div>
            		<div class="ub ub-ver ub-ac ub-f1 unit">
            			<img src="../page_resource/index/images/m5.png" class="ub" alt="">
            			<div class="ub tips">通讯录</div>
            		</div>
            		<div class="ub ub-ver ub-ac ub-f1 unit">
            			<img src="../page_resource/index/images/m6.png" class="ub" alt="">
            			<div class="ub tips">路线设置</div>
            		</div>
             	</div>
            </div>
            <!--模块结束-->
            <!--content开始-->            
            <div id="content" class="ub-f1 tx-l">
            	<div class="titlle ">
            		
            	</div>
				<div id="listview" class=""></div>
            </div>
            <!--content结束-->
            <!--footer-->
            <div id="footer" class="ub ub-pc">
				<div class="tab01 ub-f1">
				</div>
				<div class="tab02 ub-f1">
				</div>
				<div class="tab03 ub-f1">
				</div>
				<div class="tab04 ub-f1">
				</div>
            </div>
        </div>
        <script src="../js/appcan.js"></script>
        <script src="../js/appcan.control.js"></script>
        <script src="../js/appcan.slider.js"></script>
        <script src="../js/appcan.listview.js"></script>
        <script src="../common/js/common_database.js"></script>
    </body>
    <script>
        /*
         * 关于数据库操作的说明
         * 1.引用common_database.js
         * 2.创建数据库连接 var dbOperation = new DataBaseOperation();
         */
        appcan.ready(function() {
            //创建数据库连接（！！！）
            var dbOperation = new DataBaseOperation();
            //创建数据库表
            var sql = "create table if not exists user (id INTEGER PRIMARY KEY AUTOINCREMENT,userid text,username text);";
            dbOperation.dbCreateTable(sql,function(err,date){
                if(err != null){
                    alert("创建表失败！");
                    alert("失败："+err);
                }
                else if(date == 0){
                    alert("表创建成功！");
                }
                else if(date == 1)
                {
                    alert("此表已存在！");
                }
             
            });
            //插入数据1
            var sql1 = "insert into user (userid,username) values ('1','shifei');";
            dbOperation.dbExec(sql1,function(err,date){
                if(err != null){
                    alert("插入数据1失败！");
                    alert("失败："+err);
                }
                else if(date == 0){
                    alert("插入数据1成功！");
                }
            });
            //插入数据2
             var sql2 = "insert into user (userid,username) values ('2','shifei2');";
            dbOperation.dbExec(sql2,function(err,date){
                 if(err != null){
                    alert("插入数据2失败！");
                    alert("失败："+err);
                }
                else if(date == 0){
                    alert("插入数据2成功！");
                }
            });
             //插入数据3
             var sql3 = "insert into user (userid,username) values ('3','shifei3');";
            dbOperation.dbExec(sql3,function(err,date){
                   if(err != null){
                    alert("插入数据3失败！");
                    alert("失败："+err);
                }
                else if(date == 0){
                    alert("插入数据3成功！");
                }
            });
            
            //更新数据1
            var sql4 = "update user set username = 'haozhengbo' where userid = '2';";
            dbOperation.dbExec(sql4,function(err,date){
                  if(err != null){
                    alert("更新数据1失败！");
                    alert("失败："+err);
                }
                else if(date == 0){
                    alert("更新数据1成功！");
                }
            });
            //删除数据2
            var sql5 = "delete from  user  where userid = '3';";
            dbOperation.dbExec(sql5,function(err,date){
                   if(err != null){
                    alert("删除数据2失败！");
                    alert("失败："+err);
                }
                else if(date == 0){
                    alert("删除数据2成功！");
                }
            });
            
            //查询表数据
            var sql6 = "select domainValue,domainCode from domain_table where domainName = 'facility_status';";
            dbOperation.dbSelect(sql6,function(err,date){
                if(err != null){
                    alert("查询表数据失败！");
                    alert("失败："+err);
                }
                else{
                    alert(JSON.stringify(date));
                }
            });
        });
    </script>
</html>    